<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
    
</head>

<body>
    <div class = "app">
        <h1>Todo List</h1>
        <input id="taskname" type="text"/>
        <button type="button" id="submit">Submit</button>
        <ul id="todo-list">
            

        </ul>
    </div>
</body>



<script>
    let jsondata = [];

    async function loadData(){
        try{
            const response = await fetch("./test-todos.json");

            if (!response.ok){
                throw new Error(`${response.status}`);
            }

            jsondata = await response.json();

            processData();
        } catch (error) {
        console.error('Error fetching or parsing JSON:', error);
        }

    }
    
    function processData() {
        let len = jsondata.length;
        for (let i = 0; i < len; i++) {
            console.log(jsondata[i]);
            addTask(jsondata[i]);
        }
    }

    loadData();

    let len = jsondata.length;



    const todolist = document.getElementById("todo-list");


    function addTask(taskObject){

            const li = document.createElement('li');

            li.textContent = taskObject.taskName;
            
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';

            const deletebox = document.createElement('button');
            deletebox.textContent = "Delete Task";
            deletebox.className = "deleteBox";
            deletebox.id = "delete" ;

            deletebox.addEventListener('click', () => {
                todolist.removeChild(li);
            });

            li.appendChild(checkbox);
            li.appendChild(deletebox);
            todolist.appendChild(li);
    }


    document.getElementById('submit').addEventListener('click',
        () => {
            const text = document.getElementById('taskname').value;
            if (!text) return;
            let textObject = {"taskName":text,"dueDate": "2025-11-20", "completed": false}
            addTask(textObject);
        });
    

</script>
    


<style>
    body {
    margin: 0;                /* remove default margin */
    min-height: 100vh;        /* full viewport height */
    display: flex;
    justify-content: center;  /* horizontal center */
    align-items: center;      /* vertical center */
    }    

    .app {
    display: flex;
    flex-direction: column;   /* stack inside vertically */
    align-items: center;
    gap: 0.5rem;
    }
</style>


</html>